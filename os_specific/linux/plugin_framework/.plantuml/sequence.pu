@startuml
participant "main()" as C_0001988350101527950315
activate C_0001988350101527950315
participant "load_plugins()" as C_0002068317416559351879
C_0001988350101527950315 -> C_0002068317416559351879 : 
activate C_0002068317416559351879
participant "Loadable::PluginRegistry" as C_0000344814293694932198
C_0002068317416559351879 -> C_0000344814293694932198 : add(std::string,std::shared_ptr<LoadableModule>)
activate C_0000344814293694932198
deactivate C_0000344814293694932198
alt
participant "Loadable::PluginManager" as C_0001902394450079387445
C_0002068317416559351879 -> C_0001902394450079387445 : load()
activate C_0001902394450079387445
C_0001902394450079387445 -> C_0000344814293694932198 : foreach(PluginRegistry::foreachcb)
activate C_0000344814293694932198
loop
end
deactivate C_0000344814293694932198
deactivate C_0001902394450079387445
C_0002068317416559351879 -> C_0001902394450079387445 : init()
activate C_0001902394450079387445
C_0001902394450079387445 -> C_0000344814293694932198 : foreach(PluginRegistry::foreachcb)
activate C_0000344814293694932198
loop
end
deactivate C_0000344814293694932198
C_0001902394450079387445 --> C_0002068317416559351879
deactivate C_0001902394450079387445
C_0002068317416559351879 -> C_0001902394450079387445 : deinit()
activate C_0001902394450079387445
C_0001902394450079387445 -> C_0000344814293694932198 : foreach(PluginRegistry::foreachcb)
activate C_0000344814293694932198
loop
end
deactivate C_0000344814293694932198
C_0001902394450079387445 --> C_0002068317416559351879
deactivate C_0001902394450079387445
C_0002068317416559351879 -> C_0001902394450079387445 : unload()
activate C_0001902394450079387445
C_0001902394450079387445 -> C_0000344814293694932198 : foreach(PluginRegistry::foreachcb)
activate C_0000344814293694932198
loop
end
deactivate C_0000344814293694932198
deactivate C_0001902394450079387445
end
deactivate C_0002068317416559351879
deactivate C_0001988350101527950315
@enduml

